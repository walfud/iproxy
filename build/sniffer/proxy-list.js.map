{"version":3,"sources":["../../sniffer/proxy-list.js"],"names":["saver","browser","puppeteer","launch","headless","args","page","newPage","goto","waitForSelector","proxys","$$eval","x","map","y","innerText","proxy","close"],"mappings":";;;;;AAKA,sC;AACA,uC,mJANA;;;+MAQe,gBAAgBA,KAAhB,EAAuB,CAClC,MAAMC,UAAU,MAAMC,oBAAUC,MAAV,CAAiB;AACnCC,kBAAU,KADyB;AAEnCC,cAAM,CAAC,cAAD,EAAiB,0BAAjB,CAF6B,EAAjB,CAAtB;;;AAKA;AACA,UAAMC,OAAO,MAAML,QAAQM,OAAR,EAAnB;AACA,UAAMD,KAAKE,IAAL,CAAU,uBAAV,CAAN;AACA,UAAMF,KAAKG,eAAL,CAAqB,sCAArB,CAAN;AACA,UAAMC,SAAS,MAAMJ,KAAKK,MAAL,CAAY,sCAAZ,EAAoDC,KAAKA,EAAEC,GAAF,CAAMC,KAAKA,EAAEC,SAAb,CAAzD,CAArB;;AAEA,SAAK,IAAIC,KAAT,IAAkBN,MAAlB,EAA0B;AACtBV,cAAMgB,KAAN;AACH;;AAED,UAAMf,QAAQgB,KAAR,EAAN;AACH,C","file":"proxy-list.js","sourcesContent":["/**\r\n * Proxy List\r\n * http://proxy-list.org\r\n */\r\n\r\nimport puppeteer from 'puppeteer'\r\nimport fetch from 'node-fetch'\r\n\r\nexport default async function (saver) {\r\n    const browser = await puppeteer.launch({\r\n        headless: false,\r\n        args: ['--no-sandbox', '--disable-setuid-sandbox']\r\n    })\r\n\r\n    // Goto share\r\n    const page = await browser.newPage()\r\n    await page.goto('http://proxy-list.org')\r\n    await page.waitForSelector('div.table-wrap > div > ul > li.proxy')\r\n    const proxys = await page.$$eval('div.table-wrap > div > ul > li.proxy', x => x.map(y => y.innerText))\r\n\r\n    for (let proxy of proxys) {\r\n        saver(proxy)\r\n    }\r\n\r\n    await browser.close()\r\n}"]}